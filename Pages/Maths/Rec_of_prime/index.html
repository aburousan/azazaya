<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/azazaya/libs/katex/katex.min.css"> <link rel=stylesheet  href="/azazaya/libs/highlight/styles/github.min.css"> <link rel=stylesheet  href="/azazaya/css/franklin.css"> <link rel=stylesheet  href="/azazaya/css/poole_hyde.css"> <style> html {font-size: 17px;} .franklin-content {position: relative; padding-left: 8%; padding-right: 5%; line-height: 1.35em;} @media (min-width: 940px) { .franklin-content {width: 100%; margin-left: auto; margin-right: auto;} } @media (max-width: 768px) { .franklin-content {padding-left: 6%; padding-right: 6%;} } </style> <link rel=icon  href="/azazaya/assets/favicon.jpg"> <title>Reciprocals of Primes</title> <div class=sidebar > <div class="container sidebar-sticky"> <div class=sidebar-about > <h1><a href="/azazaya/">Azazaya</a></h1> <p class=lead >Let's Enjoy the Beauty of Mathematics and Physics</p> </div> <nav class=sidebar-nav > <a class="sidebar-nav-item " href="/azazaya/">Home</a> <a class="sidebar-nav-item " href="/azazaya/Pages/Maths/Maths_Home/">Mathematics Home</a> <a class="sidebar-nav-item " href="/azazaya/Pages/Physics/Physics_Home/">Physics Home</a> <a class="sidebar-nav-item " href="/azazaya/menu3/">Tags</a> </nav> <p>&copy; Kazi Abu Rousan.</p> </div> </div> <div class="content container"> <div class=franklin-content > <div class=franklin-toc ><ol><li><a href="#introduction_to_the_problem">Introduction to the problem</a><li><a href="#prove">Prove</a><li><a href="#our_take_in_finding_the_period">Our take in finding The period</a></ol></div> <h1 id=the_period_of_reciprocals_of_primes_work_of_william_shanks ><a href="#the_period_of_reciprocals_of_primes_work_of_william_shanks" class=header-anchor >The Period of Reciprocals of Primes &#40;work of William Shanks&#41;</a></h1> <p>You are reading this blog?, This is &#40;even if it&#39;s little&#41; you love maths.<br/> But <strong>how much?</strong>, Can you invest 3 years just to calculate <strong>Reciprocal of Prime numbers</strong>?...<br/> Yes or No?<br/> I don&#39;t know about you but there was certainly a guy called <strong>William Shanks</strong>, who have done this. <div class=row > <div class=container > <img class=left  src="/azazaya/assets/Maths/shank_work_time.jpeg"> <p> The working period of <b>William Shanks</b> on this topic. </p> <div style="clear: both"></div> </div> </div> Many of my friends ask me why many poeple &#40;specially childrens&#41; love to play around with numbers?, I don&#39;t know what is the real reason. But I think...</p> <blockquote> <p>Because, Numbers were the first step in mapping our physical world into abstract one.</p> </blockquote> <h2 id=introduction_to_the_problem ><a href="#introduction_to_the_problem" class=header-anchor >Introduction to the problem</a></h2> <p>Let&#39;s first try to undersand what <strong>Shanks</strong> was doing. Suppose, we have a <strong>prime number</strong> <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span>. Now, let&#39;s calculate the value of <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mi>p</mi></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{p}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.3262em;vertical-align:-0.4811em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.8451em;"><span style="top:-2.655em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.4811em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>.</p> <p>For an example let&#39;s take <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>=</mo><mn>7</mn></mrow><annotation encoding="application/x-tex">p=7</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:0.6444em;"></span><span class=mord >7</span></span></span></span>. <div class=row > <div class=container > <img class=center  src="/azazaya/assets/Maths/seven_div.jpg" width=400 > <p> Division of 1 by 7. We all have done this in our childhood. See in the end, we are again getting 1 as we have before. </p> <div style="clear: both"></div> </div> </div> This means <strong>the quotient will repeat after 7</strong> ,i.e., we will get something like 0.142857142857142857......<br/> Hence, <strong>The reciprocal of 7 repeats after 6 digits</strong>, i.e., It&#39;s <strong>period</strong> is <strong>6</strong>.<br/> Why not try the same thing for <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>=</mo><mn>23</mn></mrow><annotation encoding="application/x-tex">p = 23</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:0.6444em;"></span><span class=mord >23</span></span></span></span>?, What is the period you getting?..<br/> The answer should be <strong>22</strong>. <strong>Don&#39;t skip try this for your own understanding</strong>.</p> <h2 id=prove ><a href="#prove" class=header-anchor >Prove</a></h2> <p>The proof is pretty easy and can be done using <a href="https://brilliant.org/wiki/fermats-little-theorem/"><strong>Fermat&#39;s Little Theorem</strong></a>. For the proof visit this sources.</p> <ul> <li><p><a href="https://www.jstor.org/stable/pdf/112821.pdf"><strong>Source 1</strong></a></p> <li><p><a href="https://qr.ae/py5osl"><strong>Source 2</strong></a></p> <li><p><a href="https://www.johndcook.com/blog/2016/10/18/periods-of-fractions/"><strong>Source 3</strong></a></p> <li><p><a href="https://apps.dtic.mil/dtic/tr/fulltext/u2/a233979.pdf"><strong>Source 4</strong></a></p> </ul> <p>For more watch this video by <strong>Matt Parker</strong> <iframe width=560  height=315  src="https://www.youtube.com/embed/DmfxIhmGPP4" title="YouTube video player" frameborder=0  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe> Note: <strong>p must be a prime greater than 5</strong>.</p> <h2 id=our_take_in_finding_the_period ><a href="#our_take_in_finding_the_period" class=header-anchor >Our take in finding The period</a></h2> <p><strong>Shanks</strong> invested 3 years of his life for this job but in modern time we can just write a few lines of code to achive that in matter of seconds.<br/> I just write it while eating snacks and enjoying a beautiful rainy day... we truly are blessed.. Just think about it&#33;...<br/> If you try finding the code, you are going to find some of them &#40;eg:<a href="https://github.com/punitarani/ShanksBot">code-1</a>, <a href="https://github.com/bmantoni/shanks-bot">code-2</a>&#41;. But as per I have seen they have some error or the code looks a bit complicated.<br/> So, I will try to write a code in julia, which will be elegant and simple and also very fast. Let&#39;s start will the algorithm.<br/> <strong>Algorithm</strong><br/></p> <ul> <li><p>We want to find the smallest n &#40;<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">n=</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span></span></span></span> no. of digits after which repeatation happens&#41;. This simply means that we want to find smallest <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> for which </p> </ul> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><mn>1</mn><msup><mn>0</mn><mi>n</mi></msup><mo>=</mo><mn>1</mn><mo stretchy=false >(</mo><mtext>mod </mtext><mi>p</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex"> 10^n = 1 (\text{mod }p) </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.7144em;"></span><span class=mord >1</span><span class=mord ><span class=mord >0</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.7144em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord >1</span><span class=mopen >(</span><span class="mord text"><span class=mord >mod </span></span><span class="mord mathnormal">p</span><span class=mclose >)</span></span></span></span></span> <p>.</p> <ul> <li><p>For primes <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span>, <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> is just some divisor of <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">p-1</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.7778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:0.6444em;"></span><span class=mord >1</span></span></span></span>.</p> </ul> <p>&#40;TRY to THINK WHY&#41;<br/> This means, for any number <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span>, we have to,</p> <ul> <li><p>Find divisors of <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">p-1</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.7778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:0.6444em;"></span><span class=mord >1</span></span></span></span>.</p> <li><p>Then, arrange them in a list of ascending order.</p> <li><p>See for which &#40;smallest&#41; n, equation-1 is satisfied.</p> </ul> <p>Let&#39;s see an example. Let&#39;s take <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>=</mo><mn>23</mn></mrow><annotation encoding="application/x-tex">p = 23</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:0.6444em;"></span><span class=mord >23</span></span></span></span>.<br/> The divisors of <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>23</mn><mo>−</mo><mn>1</mn><mo>=</mo><mn>22</mn></mrow><annotation encoding="application/x-tex">23-1 = 22</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.7278em;vertical-align:-0.0833em;"></span><span class=mord >23</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:0.6444em;"></span><span class=mord >1</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:0.6444em;"></span><span class=mord >22</span></span></span></span> are <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >[</mo><mn>1</mn><mo separator=true >,</mo><mn>2</mn><mo separator=true >,</mo><mn>11</mn><mo separator=true >,</mo><mn>22</mn><mo stretchy=false >]</mo></mrow><annotation encoding="application/x-tex">[1,2,11,22]</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >[</span><span class=mord >1</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.1667em;"></span><span class=mord >2</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.1667em;"></span><span class=mord >11</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.1667em;"></span><span class=mord >22</span><span class=mclose >]</span></span></span></span>. For bigger numbers, we will be using a simple code to find the divisors.</p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Primes <span class=hljs-comment ># will be using this library</span>
<span class=hljs-keyword >function</span> divisor(n)
	d = <span class=hljs-built_in >Int64</span>[<span class=hljs-number >1</span>]
	<span class=hljs-keyword >for</span> (p,e) <span class=hljs-keyword >in</span> factor(n)
		t = <span class=hljs-built_in >Int64</span>[]
		r = <span class=hljs-number >1</span>
		<span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:e
			r *= p
			<span class=hljs-keyword >for</span> u <span class=hljs-keyword >in</span> d
				push!(t, u*r)
			<span class=hljs-keyword >end</span>
		<span class=hljs-keyword >end</span>
		append!(d,t)
	<span class=hljs-keyword >end</span>
	<span class=hljs-keyword >return</span> sort(d)
<span class=hljs-keyword >end</span>
println(<span class=hljs-string >&quot;The divisors of 22 is = &quot;</span>,divisor(<span class=hljs-number >22</span>))</code></pre> <p>The output is: <pre><code class="plaintext hljs">The divisors of 22 is = [1, 2, 11, 22]
</code></pre> Now, let&#39;s calculate <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">10^{n}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6644em;"></span><span class=mord >1</span><span class=mord ><span class=mord >0</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span> for <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>1</mn><mo separator=true >,</mo><mn>2</mn><mo separator=true >,</mo><mn>11</mn><mo separator=true >,</mo><mn>22</mn></mrow><annotation encoding="application/x-tex">n = 1, 2, 11, 22</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:0.8389em;vertical-align:-0.1944em;"></span><span class=mord >1</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.1667em;"></span><span class=mord >2</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.1667em;"></span><span class=mord >11</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.1667em;"></span><span class=mord >22</span></span></span></span>. If you do so, you will see only <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>22</mn></msup><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">10^{22} = 1</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8141em;"></span><span class=mord >1</span><span class=mord ><span class=mord >0</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">22</span></span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:0.6444em;"></span><span class=mord >1</span></span></span></span> under mod&#40;<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>23</mn></mrow><annotation encoding="application/x-tex">23</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6444em;"></span><span class=mord >23</span></span></span></span>&#41;. Hence, the result.<br/> The full code for implementing this in julia with an example is,</p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Primes <span class=hljs-comment ># will be using this library</span>
<span class=hljs-keyword >function</span> divisor(n)
	d = <span class=hljs-built_in >Int64</span>[<span class=hljs-number >1</span>]
	<span class=hljs-keyword >for</span> (p,e) <span class=hljs-keyword >in</span> factor(n)
		t = <span class=hljs-built_in >Int64</span>[]
		r = <span class=hljs-number >1</span>
		<span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:e
			r *= p
			<span class=hljs-keyword >for</span> u <span class=hljs-keyword >in</span> d
				push!(t, u*r)
			<span class=hljs-keyword >end</span>
		<span class=hljs-keyword >end</span>
		append!(d,t)
	<span class=hljs-keyword >end</span>
	<span class=hljs-keyword >return</span> sort(d)
<span class=hljs-keyword >end</span>

<span class=hljs-keyword >function</span> period_of_rec_of_prime(p)
	divisors = divisor(p-<span class=hljs-number >1</span>)
	res = <span class=hljs-number >0</span>
	<span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> divisors
		<span class=hljs-keyword >if</span> big(<span class=hljs-number >10</span>)^i % big(p) == big(<span class=hljs-number >1</span>)
			res = i
			<span class=hljs-keyword >break</span>
		<span class=hljs-keyword >end</span>
	<span class=hljs-keyword >end</span>
	<span class=hljs-keyword >return</span> res
<span class=hljs-keyword >end</span>
p = <span class=hljs-number >61253</span>
println(<span class=hljs-string >&quot;The period of <span class=hljs-variable >$p</span> is = &quot;</span>,period_of_rec_of_prime(p))</code></pre> <p>The output is: <pre><code class="plaintext hljs">The period of 61253 is = 30626
</code></pre> This is great as it always give correct answer and is very fast. Here is a image from shank&#39;s notebook: <div class=row > <div class=container > <img class=left  src="/azazaya/assets/Maths/shank_2.jpg"> <p> Few values found by shank. The left ones are prime number and right ones are the periods. As you can see, he had corrected one of the values. Most codes actually give the wrong value but ours will not. </p> <div style="clear: both"></div> </div> </div> We can also plot the data. So, the code in it&#39;s full glory &#40;along with table like shank&#41; is,</p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Primes
<span class=hljs-keyword >using</span> DataFrames
<span class=hljs-keyword >using</span> Plots
<span class=hljs-keyword >function</span> divisor(n)
	d = <span class=hljs-built_in >Int64</span>[<span class=hljs-number >1</span>]
	<span class=hljs-keyword >for</span> (p,e) <span class=hljs-keyword >in</span> factor(n)
		t = <span class=hljs-built_in >Int64</span>[]
		r = <span class=hljs-number >1</span>
		<span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:e
			r *= p
			<span class=hljs-keyword >for</span> u <span class=hljs-keyword >in</span> d
				push!(t, u*r)
			<span class=hljs-keyword >end</span>
		<span class=hljs-keyword >end</span>
		append!(d,t)
	<span class=hljs-keyword >end</span>
	<span class=hljs-keyword >return</span> sort(d)
<span class=hljs-keyword >end</span>

<span class=hljs-keyword >function</span> period_of_rec_of_prime(p)
	divisors = divisor(p-<span class=hljs-number >1</span>)
	res = <span class=hljs-number >0</span>
	<span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> divisors
		<span class=hljs-keyword >if</span> big(<span class=hljs-number >10</span>)^i % big(p) == big(<span class=hljs-number >1</span>)
			res = i
			<span class=hljs-keyword >break</span>
		<span class=hljs-keyword >end</span>
	<span class=hljs-keyword >end</span>
	<span class=hljs-keyword >return</span> res
<span class=hljs-keyword >end</span>
all_primes = primes(<span class=hljs-number >7</span>, <span class=hljs-number >110000</span>)<span class=hljs-comment >#retrun all primes in range 5 to 1,10,000</span>
periods = period_of_rec_of_prime.(all_primes)
df = DataFrame(Primes = all_primes, Reciprocal_Periods = periods)
print(last(df,<span class=hljs-number >50</span>))<span class=hljs-comment ># give table like shank, just showing last 50</span></code></pre> <p>The output is: <pre><code class="plaintext hljs">50×2 DataFrame
 Row │ Primes  Reciprocal_Periods
     │ Int64   Int64
─────┼────────────────────────────
   1 │ 109441                9120
   2 │ 109451              109450
   3 │ 109453                9121
   4 │ 109469              109468
   5 │ 109471               10947
   6 │ 109481                7820
   7 │ 109507               54753
   8 │ 109517                 131
   9 │ 109519               54759
  10 │ 109537               15648
  11 │ 109541               21908
  12 │ 109547               54773
  13 │ 109567                4058
  14 │ 109579               15654
  15 │ 109583              109582
  16 │ 109589              109588
  17 │ 109597               54798
  18 │ 109609               54804
  19 │ 109619              109618
  20 │ 109621              109620
  21 │ 109639               54819
  22 │ 109661              109660
  23 │ 109663               36554
  24 │ 109673              109672
  25 │ 109717               54858
  26 │ 109721               54860
  27 │ 109741               36580
  28 │ 109751               10975
  29 │ 109789              109788
  30 │ 109793              109792
  31 │ 109807               36602
  32 │ 109819              109818
  33 │ 109829              109828
  34 │ 109831                2615
  35 │ 109841                6865
  36 │ 109843               18307
  37 │ 109847              109846
  38 │ 109849               27462
  39 │ 109859              109858
  40 │ 109873               15696
  41 │ 109883               54941
  42 │ 109891               21978
  43 │ 109897              109896
  44 │ 109903              109902
  45 │ 109913                9992
  46 │ 109919               54959
  47 │ 109937              109936
  48 │ 109943              109942
  49 │ 109961               10996
  50 │ 109987               54993</code></pre> To make a plot use,</p> <pre><code class="julia hljs">plot(all_primes, periods, title=<span class=hljs-string >&quot;Plot of Reciprocal of Primes vs Period&quot;</span>,seriestype=:scatter,linewidth=<span class=hljs-number >3</span>)
xlabel!(<span class=hljs-string >&quot;Primes&quot;</span>)
ylabel!(<span class=hljs-string >&quot;Period of Reciprocals&quot;</span>)</code></pre> <p>This is create a plot like, <div class=row > <div class=container > <img class=left  src="/azazaya/assets/Maths/shank.png"> <div style="clear: both"></div> </div> </div> I hope you all like this interesting piece of knowlege. Just think how much blessed we are. We should use all our resources&#40;blessings&#41; to do awesome things.</p> <p>If you have some question, do let me know in the comments &#40;you need github account&#41; or contact me using my using the informations are given in the end of <a href="/azazaya/">Home page</a>.</p> <script src="https://utteranc.es/client.js" repo="aburousan/blog_comments" issue-term=pathname  theme=github-light  crossorigin=anonymous  async> </script> <div class=page-foot > <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> Kazi Abu Rousan. Last modified: July 05, 2023. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div> <script src="/azazaya/libs/highlight/highlight.min.js"></script> <script>hljs.highlightAll();hljs.configure({tabReplace: ' '});</script>